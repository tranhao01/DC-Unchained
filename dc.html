<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographic: Ph√¢n T√≠ch K·ªπ Thu·∫≠t Game DC Unchained</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Energetic & Playful -->
    <!-- Narrative & Structure Plan: Infographic ƒë∆∞·ª£c c·∫•u tr√∫c theo m·ªôt lu·ªìng t∆∞·ªùng thu·∫≠t logic, t·ª´ t·ªïng quan ƒë·∫øn chi ti·∫øt. B·∫Øt ƒë·∫ßu b·∫±ng m·ªôt ti√™u ƒë·ªÅ m·∫°nh m·∫Ω v√† gi·ªõi thi·ªáu. Ph·∫ßn 1 tr·ª±c quan h√≥a ki·∫øn tr√∫c c·ªët l√µi (Client-Server-Data) b·∫±ng s∆° ƒë·ªì kh·ªëi HTML/CSS. Ph·∫ßn 2 s·ª≠ d·ª•ng bi·ªÉu ƒë·ªì c·ªôt ƒë·ªÉ so s√°nh m·ª©c ƒë·ªô ph·ª©c t·∫°p c·ªßa c√°c lƒ©nh v·ª±c ph√¢n t√≠ch. C√°c ph·∫ßn ti·∫øp theo ƒëi s√¢u v√†o t·ª´ng lƒ©nh v·ª±c (Client, Server, Gameplay...) s·ª≠ d·ª•ng layout d·∫°ng th·∫ª card (grid) ƒë·ªÉ tr√¨nh b√†y th√¥ng tin chi ti·∫øt m·ªôt c√°ch ngƒÉn n·∫Øp. V√≤ng l·∫∑p gameplay ƒë∆∞·ª£c th·ªÉ hi·ªán b·∫±ng bi·ªÉu ƒë·ªì Donut. Th√™m m·ªôt ph·∫ßn t∆∞∆°ng t√°c v·ªõi Gemini AI ƒë·ªÉ t·∫°o ra c√°c ph√¢n t√≠ch s√¢u h∆°n theo y√™u c·∫ßu. Cu·ªëi c√πng, ph·∫ßn k·∫øt lu·∫≠n t·ªïng h·ª£p c√°c b√†i h·ªçc quan tr·ªçng. C·∫•u tr√∫c n√†y d·∫´n d·∫Øt ng∆∞·ªùi xem qua m·ªôt h√†nh tr√¨nh kh√°m ph√°, gi√∫p h·ªç d·ªÖ d√†ng ti·∫øp thu th√¥ng tin k·ªπ thu·∫≠t ph·ª©c t·∫°p. -->
    <!-- Visualization Choices: 1. S∆° ƒë·ªì ki·∫øn tr√∫c (Client-Server-Data): Goal - Organize. Chosen Viz - S∆° ƒë·ªì kh·ªëi b·∫±ng HTML/CSS (Flexbox, Borders). Justification - Tr·ª±c quan h√≥a m·ªëi quan h·ªá gi·ªØa c√°c th√†nh ph·∫ßn ch√≠nh, cung c·∫•p c√°i nh√¨n t·ªïng quan ngay t·ª´ ƒë·∫ßu. (Method: HTML/CSS, NO SVG/Mermaid). 2. Ph√¢n b·ªï n·ªó l·ª±c ph√¢n t√≠ch: Goal - Compare. Chosen Viz - Bi·ªÉu ƒë·ªì c·ªôt ngang (Bar Chart). Justification - D·ªÖ d√†ng so s√°nh m·ª©c ƒë·ªô ph·ª©c t·∫°p/n·ªó l·ª±c ∆∞·ªõc t√≠nh gi·ªØa c√°c h·∫°ng m·ª•c. (Library: Chart.js/Canvas). 3. V√≤ng l·∫∑p gameplay c·ªët l√µi: Goal - Inform/Organize. Chosen Viz - Bi·ªÉu ƒë·ªì Donut. Justification - Th·ªÉ hi·ªán m·ªôt chu tr√¨nh l·∫∑p l·∫°i m·ªôt c√°ch tr·ª±c quan v√† h·∫•p d·∫´n h∆°n l√† m·ªôt danh s√°ch. (Library: Chart.js/Canvas). 4. C√°c checklist chi ti·∫øt: Goal - Organize. Chosen Viz - Th·∫ª card v·ªõi icon Unicode. Justification - Chia nh·ªè th√¥ng tin th√†nh c√°c kh·ªëi d·ªÖ ƒë·ªçc, c·∫£i thi·ªán t√≠nh th·∫©m m·ªπ v√† kh·∫£ nƒÉng qu√©t th√¥ng tin. (Method: HTML/CSS). 5. Ph√¢n t√≠ch AI: Goal - Inform. Chosen Viz - Text block ƒë·ªông. Justification - Cung c·∫•p n·ªôi dung chuy√™n s√¢u, t·∫°o sinh theo th·ªùi gian th·ª±c ƒë·ªÉ tƒÉng gi√° tr·ªã cho infographic. (Method: Gemini API Call). T·∫•t c·∫£ c√°c l·ª±a ch·ªçn ƒë·ªÅu tu√¢n th·ªß y√™u c·∫ßu kh√¥ng s·ª≠ d·ª•ng SVG v√† Mermaid JS. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FEF9C3; /* yellow-100 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 40vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .flow-arrow {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #F97316; /* orange-500 */
        }
        .flow-box {
            border: 3px solid #1E293B; /* slate-800 */
            background-color: #ffffff;
        }
        .loader {
            border: 4px solid #f3f3f3; /* Light grey */
            border-top: 4px solid #F97316; /* Orange */
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-slate-800">
    <div class="container mx-auto p-4 md:p-8 max-w-5xl">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-6xl font-extrabold text-slate-900 mb-2">DC UNCHAINED</h1>
            <p class="text-xl md:text-2xl font-semibold text-orange-600">B√≥c T√°ch D∆∞·ªõi G√≥c Nh√¨n Nh√† Ph√°t Tri·ªÉn</p>
            <div class="w-24 h-1.5 bg-slate-900 mx-auto mt-4"></div>
        </header>

        <main>
            <section class="mb-16">
                <h2 class="text-3xl font-bold text-center mb-8">Ki·∫øn Tr√∫c H·ªá Th·ªëng C·ªët L√µi</h2>
                <p class="text-center max-w-3xl mx-auto text-slate-600 mb-10">
                    H·∫ßu h·∫øt c√°c game online hi·ªán ƒë·∫°i ƒë·ªÅu tu√¢n theo m√¥ h√¨nh Client-Server. Client x·ª≠ l√Ω hi·ªÉn th·ªã v√† nh·∫≠n l·ªánh t·ª´ ng∆∞·ªùi ch∆°i, trong khi Server c√≥ to√†n quy·ªÅn quy·∫øt ƒë·ªãnh logic game, ƒë·∫£m b·∫£o t√≠nh c√¥ng b·∫±ng v√† ch·ªëng gian l·∫≠n. D·ªØ li·ªáu ƒë∆∞·ª£c ƒë·ªìng b·ªô li√™n t·ª•c gi·ªØa hai th√†nh ph·∫ßn n√†y.
                </p>
                <div class="flex flex-col md:flex-row items-center justify-center gap-4 text-center">
                    <div class="flow-box w-48 h-32 p-4 rounded-lg shadow-lg flex flex-col justify-center">
                        <span class="text-4xl">üì±</span>
                        <h3 class="font-bold mt-2">CLIENT</h3>
                        <p class="text-xs text-slate-500">(Thi·∫øt b·ªã ng∆∞·ªùi ch∆°i)</p>
                    </div>
                    <div class="flow-arrow w-24 h-16 transform md:-rotate-0 rotate-90">‚Üí</div>
                    <div class="flow-box w-48 h-32 p-4 rounded-lg shadow-lg flex flex-col justify-center">
                        <span class="text-4xl">‚òÅÔ∏è</span>
                        <h3 class="font-bold mt-2">SERVER</h3>
                        <p class="text-xs text-slate-500">(H·ªá th·ªëng m√°y ch·ªß)</p>
                    </div>
                </div>
                <div class="flex justify-center">
                     <div class="flow-arrow h-24 transform rotate-90">‚Üì</div>
                </div>
                 <div class="flex justify-center text-center">
                    <div class="flow-box w-48 h-32 p-4 rounded-lg shadow-lg flex flex-col justify-center">
                        <span class="text-4xl">üóÉÔ∏è</span>
                        <h3 class="font-bold mt-2">DATA LAYER</h3>
                        <p class="text-xs text-slate-500">(C∆° s·ªü d·ªØ li·ªáu)</p>
                    </div>
                </div>
            </section>

            <section class="bg-slate-800 text-white p-8 rounded-2xl shadow-2xl mb-16">
                 <h2 class="text-3xl font-bold text-center mb-8 text-yellow-300">Ph√¢n B·ªï N·ªó L·ª±c Ph√¢n T√≠ch</h2>
                 <p class="text-center max-w-3xl mx-auto text-slate-300 mb-10">
                    Qu√° tr√¨nh "m·ªï x·∫ª" m·ªôt game l√† m·ªôt c√¥ng vi·ªác ph·ª©c t·∫°p. Bi·ªÉu ƒë·ªì d∆∞·ªõi ƒë√¢y ∆∞·ªõc t√≠nh m·ª©c ƒë·ªô kh√≥ v√† t·ªën th·ªùi gian cho t·ª´ng h·∫°ng m·ª•c, trong ƒë√≥ vi·ªác ph√¢n t√≠ch g√≥i tin m·∫°ng v√† c√°c bi·ªán ph√°p ch·ªëng gian l·∫≠n th∆∞·ªùng l√† th√°ch th·ª©c l·ªõn nh·∫•t.
                </p>
                <div class="chart-container h-96 md:h-[450px]">
                    <canvas id="effortChart"></canvas>
                </div>
            </section>

            <section class="mb-16">
                 <h2 class="text-3xl font-bold text-center mb-10">Ph√¢n T√≠ch Chi Ti·∫øt C√°c L·ªõp</h2>
                 <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow-lg border-t-8 border-pink-500">
                        <h3 class="font-bold text-xl mb-3">üì± CLIENT-SIDE</h3>
                        <ul class="space-y-2 text-slate-600">
                            <li><span class="font-semibold text-slate-800">N·ªÅn t·∫£ng:</span> X√°c ƒë·ªãnh Engine (Unity/Unreal).</li>
                            <li><span class="font-semibold text-slate-800">D·ªãch ng∆∞·ª£c:</span> Ph√¢n t√≠ch m√£ ngu·ªìn b·∫±ng Jadx, Ghidra.</li>
                            <li><span class="font-semibold text-slate-800">T√†i s·∫£n:</span> Tr√≠ch xu·∫•t ƒë·ªì h·ªça, √¢m thanh.</li>
                            <li><span class="font-semibold text-slate-800">Hi·ªáu nƒÉng:</span> ƒêo FPS, m·ª©c s·ª≠ d·ª•ng b·ªô nh·ªõ.</li>
                        </ul>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-lg border-t-8 border-orange-500">
                        <h3 class="font-bold text-xl mb-3">‚òÅÔ∏è SERVER & M·∫†NG</h3>
                        <ul class="space-y-2 text-slate-600">
                            <li><span class="font-semibold text-slate-800">G√≥i tin:</span> B·∫Øt g√≥i tin b·∫±ng Fiddler, Wireshark.</li>
                            <li><span class="font-semibold text-slate-800">Giao th·ª©c:</span> Ph√¢n t√≠ch API (HTTPs/Protobuf).</li>
                            <li><span class="font-semibold text-slate-800">H·∫° t·∫ßng:</span> D·ª± ƒëo√°n nh√† cung c·∫•p (AWS/GCP).</li>
                             <li><span class="font-semibold text-slate-800">B·∫£o m·∫≠t:</span> Ki·ªÉm tra SSL Pinning, m√£ h√≥a.</li>
                        </ul>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-lg border-t-8 border-lime-500">
                        <h3 class="font-bold text-xl mb-3">üóÉÔ∏è DATA LAYER</h3>
                        <ul class="space-y-2 text-slate-600">
                            <li><span class="font-semibold text-slate-800">L∆∞u tr·ªØ local:</span> T√¨m d·ªØ li·ªáu trong SharedPreferences, SQLite.</li>
                            <li><span class="font-semibold text-slate-800">C·∫•u h√¨nh game:</span> Ph√¢n t√≠ch file JSON/XML.</li>
                            <li><span class="font-semibold text-slate-800">ƒê·ªìng b·ªô:</span> Nghi√™n c·ª©u c∆° ch·∫ø auto-save, rollback.</li>
                        </ul>
                    </div>
                 </div>
            </section>

            <section class="mb-16">
                <h2 class="text-3xl font-bold text-center mb-8">V√≤ng L·∫∑p Gameplay & Kinh T·∫ø</h2>
                 <p class="text-center max-w-3xl mx-auto text-slate-600 mb-10">
                    ƒê·ªÉ gi·ªØ ch√¢n ng∆∞·ªùi ch∆°i, DC Unchained x√¢y d·ª±ng m·ªôt v√≤ng l·∫∑p gameplay g√¢y nghi·ªán. Ng∆∞·ªùi ch∆°i li√™n t·ª•c chi·∫øn ƒë·∫•u ƒë·ªÉ thu th·∫≠p t√†i nguy√™n, d√πng ch√∫ng ƒë·ªÉ n√¢ng c·∫•p anh h√πng, r·ªìi l·∫°i ti·∫øp t·ª•c tham gia c√°c tr·∫≠n chi·∫øn kh√≥ h∆°n.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="chart-container h-80 md:h-96">
                        <canvas id="gameplayLoopChart"></canvas>
                    </div>
                    <div class="space-y-4">
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h4 class="font-bold">üìà H·ªÜ TH·ªêNG TI·∫æN TR√åNH</h4>
                            <p class="text-sm text-slate-600">ƒê∆∞·ªùng cong kinh nghi·ªám (EXP curve) v√† chi ph√≠ n√¢ng c·∫•p ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ khuy·∫øn kh√≠ch ng∆∞·ªùi ch∆°i ƒëƒÉng nh·∫≠p m·ªói ng√†y.</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h4 class="font-bold">üí∞ H·ªÜ TH·ªêNG V·∫¨T PH·∫®M</h4>
                            <p class="text-sm text-slate-600">C√°c ch·ªâ s·ªë, t·ª∑ l·ªá r·ªõt ƒë·ªì (loot rate) v√† h·ªá th·ªëng gacha ƒë∆∞·ª£c c√¢n b·∫±ng c·∫©n th·∫≠n ƒë·ªÉ t·∫°o ra gi√° tr·ªã v√† s·ª± khan hi·∫øm.</p>
                        </div>
                         <div class="bg-white p-4 rounded-lg shadow">
                            <h4 class="font-bold">üõ°Ô∏è CH·ªêNG GIAN L·∫¨N</h4>
                            <p class="text-sm text-slate-600">Server x√°c th·ª±c m·ªçi h√†nh ƒë·ªông quan tr·ªçng, ngƒÉn ch·∫∑n c√°c h√†nh vi gian l·∫≠n nh∆∞ thay ƒë·ªïi ch·ªâ s·ªë v·∫≠t ph·∫©m ho·∫∑c t√†i nguy√™n.</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="mb-16">
                <h2 class="text-3xl font-bold text-center mb-4">‚ú® Ph√¢n T√≠ch S√¢u H∆°n C√πng Gemini</h2>
                <p class="text-center max-w-3xl mx-auto text-slate-600 mb-8">
                    S·ª≠ d·ª•ng s·ª©c m·∫°nh c·ªßa AI ƒë·ªÉ kh√°m ph√° c√°c chi·∫øn l∆∞·ª£c chuy√™n s√¢u. Ch·ªçn m·ªôt ch·ªß ƒë·ªÅ b√™n d∆∞·ªõi ƒë·ªÉ Gemini ph√¢n t√≠ch v√† ƒë∆∞a ra c√°c ƒë·ªÅ xu·∫•t s√°ng t·∫°o d·ª±a tr√™n b·ªëi c·∫£nh c·ªßa m·ªôt game h√†nh ƒë·ªông-nh·∫≠p vai nh∆∞ DC Unchained.
                </p>
                <div class="flex flex-wrap justify-center gap-4 mb-8">
                    <button id="ai-cheat-btn" class="bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105">
                        Chi·∫øn l∆∞·ª£c Ch·ªëng Gian L·∫≠n
                    </button>
                    <button id="ai-economy-btn" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105">
                        T·ªëi ∆∞u H√≥a Kinh T·∫ø Game
                    </button>
                    <button id="ai-retention-btn" class="bg-lime-500 hover:bg-lime-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105">
                        Gi·ªØ Ch√¢n Ng∆∞·ªùi Ch∆°i
                    </button>
                </div>
                <div id="ai-response-container" class="bg-white p-6 rounded-lg shadow-lg min-h-[200px] flex items-center justify-center">
                    <div id="ai-placeholder" class="text-slate-500 text-center">
                        <p class="text-lg">Ch·ªçn m·ªôt ch·ªß ƒë·ªÅ ƒë·ªÉ b·∫Øt ƒë·∫ßu ph√¢n t√≠ch...</p>
                        <p class="text-sm mt-1">K·∫øt qu·∫£ s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y.</p>
                    </div>
                    <div id="ai-loader" class="hidden">
                         <div class="loader"></div>
                    </div>
                    <div id="ai-response" class="text-slate-700 whitespace-pre-wrap w-full"></div>
                </div>
            </section>

            <section class="bg-slate-900 text-white p-8 rounded-2xl shadow-2xl">
                 <h2 class="text-3xl font-bold text-center mb-8 text-yellow-300">B√†i H·ªçc C·ªët L√µi Cho Dev</h2>
                 <div class="max-w-2xl mx-auto space-y-4 text-slate-300">
                    <div class="border-l-4 border-pink-500 pl-4">
                        <h4 class="font-bold text-white">Ki·∫øn tr√∫c Server To√†n Quy·ªÅn</h4>
                        <p>Server ph·∫£i l√† ngu·ªìn ch√¢n l√Ω duy nh·∫•t (single source of truth). M·ªçi logic quan tr·ªçng v·ªÅ t√†i nguy√™n, k·ªπ nƒÉng, s√°t th∆∞∆°ng ƒë·ªÅu ph·∫£i ƒë∆∞·ª£c t√≠nh to√°n v√† x√°c th·ª±c ·ªü ph√≠a server.</p>
                    </div>
                     <div class="border-l-4 border-orange-500 pl-4">
                        <h4 class="font-bold text-white">M√£ H√≥a & B·∫£o M·∫≠t Giao Th·ª©c</h4>
                        <p>M√£ h√≥a t√†i s·∫£n game (asset encryption) v√† b·∫£o m·∫≠t ƒë∆∞·ªùng truy·ªÅn (SSL pinning) l√† nh·ªØng bi·ªán ph√°p c∆° b·∫£n v√† t·ªëi quan tr·ªçng ƒë·ªÉ ch·ªëng l·∫°i vi·ªác tr√≠ch xu·∫•t d·ªØ li·ªáu v√† t·∫•n c√¥ng gi·∫£ m·∫°o.</p>
                    </div>
                     <div class="border-l-4 border-lime-500 pl-4">
                        <h4 class="font-bold text-white">V√≤ng L·∫∑p Gameplay L√† Vua</h4>
                        <p>M·ªôt v√≤ng l·∫∑p gameplay h·∫•p d·∫´n, k·∫øt h·ª£p v·ªõi h·ªá th·ªëng ti·∫øn tr√¨nh v√† ph·∫ßn th∆∞·ªüng h·ª£p l√Ω, l√† ch√¨a kh√≥a ƒë·ªÉ gi·ªØ ch√¢n ng∆∞·ªùi ch∆°i l√¢u d√†i. ƒê√¢y l√† b√†i h·ªçc c√≥ th·ªÉ √°p d·ª•ng cho m·ªçi th·ªÉ lo·∫°i game.</p>
                    </div>
                 </div>
            </section>
        </main>
        
        <footer class="text-center mt-12 pt-8 border-t border-slate-300">
            <p class="text-sm text-slate-500">Infographic ƒë∆∞·ª£c t·∫°o cho m·ª•c ƒë√≠ch nghi√™n c·ª©u v√† h·ªçc thu·∫≠t. DC Unchained v√† c√°c nh√¢n v·∫≠t li√™n quan l√† t√†i s·∫£n c·ªßa Warner Bros. v√† DC Comics.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const FONT_COLOR = '#1E293B';
            Chart.defaults.font.family = "'Inter', sans-serif";
            Chart.defaults.font.weight = '600';
            Chart.defaults.color = FONT_COLOR;

            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                    return label.join(' ');
                }
                return label;
            };

            const processLabels = (labels) => {
                return labels.map(label => {
                    if (label.length > 16) {
                        const words = label.split(' ');
                        const newLabel = [];
                        let line = '';
                        words.forEach(word => {
                            if ((line + word).length > 16) {
                                newLabel.push(line.trim());
                                line = '';
                            }
                            line += `${word} `;
                        });
                        newLabel.push(line.trim());
                        return newLabel;
                    }
                    return label;
                });
            };

            const effortCtx = document.getElementById('effortChart').getContext('2d');
            new Chart(effortCtx, {
                type: 'bar',
                data: {
                    labels: ['Client-Side', 'Server & M·∫°ng', ['Data Layer &', 'ƒê·ªìng b·ªô h√≥a'], 'Gameplay & Kinh T·∫ø', 'V·∫≠n h√†nh & B·∫£o m·∫≠t'],
                    datasets: [{
                        label: 'M·ª©c ƒë·ªô ph·ª©c t·∫°p',
                        data: [8, 9.5, 7, 7.5, 8.5],
                        backgroundColor: '#F97316',
                        borderColor: '#1E293B',
                        borderWidth: 2,
                        borderRadius: 4,
                        barThickness: 30,
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: 10,
                            grid: { color: 'rgba(254, 249, 195, 0.2)' },
                            ticks: { color: '#FEF9C3' }
                        },
                        y: {
                            grid: { display: false },
                            ticks: { color: '#FEF9C3', font: { size: 14 } }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: { title: tooltipTitleCallback },
                            backgroundColor: '#1E293B',
                            titleColor: '#FEF9C3',
                            bodyColor: '#FEF9C3',
                            padding: 12,
                            cornerRadius: 6,
                        }
                    }
                }
            });

            const gameplayCtx = document.getElementById('gameplayLoopChart').getContext('2d');
            new Chart(gameplayCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Chi·∫øn ƒë·∫•u (PvE/PvP)', 'Farm t√†i nguy√™n', 'N√¢ng c·∫•p anh h√πng', 'Tham gia s·ª± ki·ªán'],
                    datasets: [{
                        label: 'V√≤ng l·∫∑p Gameplay',
                        data: [40, 25, 25, 10],
                        backgroundColor: [
                            '#EC4899', // pink-500
                            '#F97316', // orange-500
                            '#84CC16', // lime-500
                            '#FACC15', // yellow-400
                        ],
                        borderColor: '#FEF9C3',
                        borderWidth: 5,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '60%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                font: { size: 12 }
                            }
                        },
                        tooltip: {
                            callbacks: { title: tooltipTitleCallback },
                            backgroundColor: '#1E293B',
                            padding: 12,
                            cornerRadius: 6,
                        }
                    }
                }
            });

            const aiCheatBtn = document.getElementById('ai-cheat-btn');
            const aiEconomyBtn = document.getElementById('ai-economy-btn');
            const aiRetentionBtn = document.getElementById('ai-retention-btn');
            const aiResponseEl = document.getElementById('ai-response');
            const aiLoader = document.getElementById('ai-loader');
            const aiPlaceholder = document.getElementById('ai-placeholder');

            const prompts = {
                cheat: `V·ªõi vai tr√≤ l√† m·ªôt chuy√™n gia b·∫£o m·∫≠t cho game mobile, h√£y ph√¢n t√≠ch v√† ƒë·ªÅ xu·∫•t 3 chi·∫øn l∆∞·ª£c ch·ªëng gian l·∫≠n (anti-cheat) s√°ng t·∫°o v√† hi·ªáu qu·∫£ cho m·ªôt game h√†nh ƒë·ªông-nh·∫≠p vai (ARPG) nh∆∞ DC Unchained. T·∫≠p trung v√†o c√°c gi·∫£i ph√°p v·ª´a m·∫°nh m·∫Ω v·ªÅ m·∫∑t k·ªπ thu·∫≠t, v·ª´a kh√¥ng ·∫£nh h∆∞·ªüng ti√™u c·ª±c ƒë·∫øn tr·∫£i nghi·ªám c·ªßa ng∆∞·ªùi ch∆°i ch√¢n ch√≠nh.\n\nTr√¨nh b√†y d∆∞·ªõi d·∫°ng danh s√°ch markdown, m·ªói m·ª•c gi·∫£i th√≠ch r√µ:\n1. **T√™n chi·∫øn l∆∞·ª£c.**\n2. **C√°ch th·ª©c ho·∫°t ƒë·ªông.**\n3. **T·∫°i sao n√≥ l·∫°i ph√π h·ª£p v·ªõi game ARPG.**`,
                economy: `V·ªõi vai tr√≤ l√† m·ªôt nh√† thi·∫øt k·∫ø kinh t·∫ø game (Game Economy Designer), h√£y ƒë·ªÅ xu·∫•t 3 chi·∫øn l∆∞·ª£c ƒë·ªÉ t·ªëi ∆∞u h√≥a v√† c√¢n b·∫±ng h·ªá th·ªëng kinh t·∫ø trong m·ªôt game ARPG nh∆∞ DC Unchained. M·ª•c ti√™u l√† t·∫°o ra m·ªôt n·ªÅn kinh t·∫ø b·ªÅn v·ªØng, khuy·∫øn kh√≠ch ng∆∞·ªùi ch∆°i t∆∞∆°ng t√°c v√† chi ti√™u h·ª£p l√Ω m√† kh√¥ng t·∫°o c·∫£m gi√°c "pay-to-win".\n\nTr√¨nh b√†y d∆∞·ªõi d·∫°ng danh s√°ch markdown, m·ªói m·ª•c gi·∫£i th√≠ch r√µ:\n1. **T√™n chi·∫øn l∆∞·ª£c.**\n2. **M√¥ t·∫£ c√°ch tri·ªÉn khai.**\n3. **T√°c ƒë·ªông t√≠ch c·ª±c ƒë·∫øn ng∆∞·ªùi ch∆°i v√† doanh thu.**`,
                retention: `V·ªõi vai tr√≤ l√† m·ªôt nh√† qu·∫£n l√Ω s·∫£n ph·∫©m game (Game Product Manager), h√£y ƒë·ªÅ xu·∫•t 3 chi·∫øn l∆∞·ª£c ƒë·ªôc ƒë√°o ƒë·ªÉ tƒÉng t·ª∑ l·ªá gi·ªØ ch√¢n ng∆∞·ªùi ch∆°i (player retention) trong tu·∫ßn ƒë·∫ßu ti√™n cho m·ªôt game ARPG nh∆∞ DC Unchained. Tr√°nh c√°c ƒë·ªÅ xu·∫•t qu√° chung chung nh∆∞ "ƒëƒÉng nh·∫≠p h√†ng ng√†y".\n\nTr√¨nh b√†y d∆∞·ªõi d·∫°ng danh s√°ch markdown, m·ªói m·ª•c gi·∫£i th√≠ch r√µ:\n1. **T√™n chi·∫øn l∆∞·ª£c/t√≠nh nƒÉng.**\n2. **C√°ch th·ª©c ho·∫°t ƒë·ªông v√† tri·ªÉn khai trong game.**\n3. **L√Ω do t·∫°i sao n√≥ t·∫°o ra s·ª± g·∫Øn k·∫øt s·ªõm cho ng∆∞·ªùi ch∆°i.**`
            };

            const callGeminiAPI = async (prompt) => {
                aiPlaceholder.classList.add('hidden');
                aiResponseEl.textContent = '';
                aiLoader.classList.remove('hidden');

                const apiKey = ""; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                const payload = {
                    contents: [{ parts: [{ text: prompt }] }],
                };

                let response;
                let retries = 3;
                let delay = 1000;

                while (retries > 0) {
                    try {
                        response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (response.ok) {
                            const result = await response.json();
                            const text = result.candidates?.[0]?.content?.parts?.[0]?.text;

                            if (text) {
                                aiLoader.classList.add('hidden');
                                aiResponseEl.textContent = text;
                            } else {
                                throw new Error("Kh√¥ng t√¨m th·∫•y n·ªôi dung trong ph·∫£n h·ªìi.");
                            }
                            return;
                        } else {
                             throw new Error(`Y√™u c·∫ßu API th·∫•t b·∫°i v·ªõi m√£ tr·∫°ng th√°i ${response.status}`);
                        }

                    } catch (error) {
                        console.error("L·ªói khi g·ªçi API:", error);
                        retries--;
                        if (retries === 0) {
                             aiLoader.classList.add('hidden');
                             aiResponseEl.textContent = "ƒê√£ x·∫£y ra l·ªói khi k·∫øt n·ªëi v·ªõi AI. Vui l√≤ng th·ª≠ l·∫°i sau.";
                             return;
                        }
                        await new Promise(res => setTimeout(res, delay));
                        delay *= 2;
                    }
                }
            };

            aiCheatBtn.addEventListener('click', () => callGeminiAPI(prompts.cheat));
            aiEconomyBtn.addEventListener('click', () => callGeminiAPI(prompts.economy));
            aiRetentionBtn.addEventListener('click', () => callGeminiAPI(prompts.retention));
        });
    </script>
</body>
</html>

